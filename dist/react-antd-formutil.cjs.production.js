"use strict";Object.defineProperty(exports,"__esModule",{value:true});function e(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var r=require("react-formutil");var a=e(require("@babel/runtime/helpers/esm/defineProperty"));var t=e(require("@babel/runtime/helpers/esm/toPropertyKey"));var i=e(require("@babel/runtime/helpers/esm/objectWithoutProperties"));var o=e(require("@babel/runtime/helpers/esm/classCallCheck"));var n=e(require("@babel/runtime/helpers/esm/createClass"));var s=e(require("@babel/runtime/helpers/esm/possibleConstructorReturn"));var c=e(require("@babel/runtime/helpers/esm/getPrototypeOf"));var u=e(require("@babel/runtime/helpers/esm/inherits"));var l=require("react");var d=e(l);var p=require("react-is");var v=require("antd");var f=1;var m=function e(r){f=r};var h=v.Switch.name!=="Switch";var b=h?v.Switch:"Switch";var y=h?v.Checkbox:"Checkbox";var k=h?v.Radio:"Radio";var g=h?v.Transfer:"Transfer";var C=h?v.Pagination:"Pagination";var P=h?v.Upload:"Upload";function _(e){if(e){var r=e.type;if(typeof r!=="string"&&p.isValidElementType(r)){if(r.formutilType){return r.formutilType}if(h){return r}return r.displayName||r.name}return e.props.type||r}}var q=function(e){u(p,e);function p(){o(this,p);return s(this,c(p).apply(this,arguments))}n(p,[{key:"render",value:function e(){var o=this;var n=this.props;var s=n.children,c=n.itemProps,u=n.errorLevel,p=u===void 0?f:u,m=i(n,["children","itemProps","errorLevel"]);var h=typeof s==="function"?s:l.Children.only(s);var q=_(h);switch(q){case b:case y:case k:m.__TYPE__="checked";break;case C:if(!("$defaultValue"in m)){m.$defaultValue=1}break;case"checked":case"array":case"object":case"number":case"empty":m.__TYPE__=q;break;default:m.__TYPE__="empty";break}return d.createElement(r.EasyField,Object.assign({},m,{passUtil:"$fieldutil",render:function e(r){var s,u,f;var m=n.valuePropName,_=m===void 0?"value":m,E=n.changePropName,j=E===void 0?"onChange":E,$=n.focusPropName,w=$===void 0?"onFocus":$,T=n.blurPropName,N=T===void 0?"onBlur":T;var O=r.$fieldutil,V=r[j],x=r[w],S=r[N],F=r[_],L=i(r,["$fieldutil",j,w,N,_].map(t));var U=O.$invalid,R=O.$dirty,Y=O.$touched,B=O.$focused,I=O.$getFirstError;var K;switch(q){case b:case y:case k:case"checked":var A=n.checked,M=A===void 0?true:A,W=n.unchecked,z=W===void 0?false:W;K={checked:F===M,onChange:function e(r){var a=r&&r.target?r.target.checked:r;V(a?M:z,r)}};break;case g:K={targetKeys:F,onChange:V};break;case C:K={current:F,onChange:V};break;case P:K={fileList:(s=F===null||F===void 0?void 0:F.fileList)!==null&&s!==void 0?s:F,onChange:V};break;default:K=(u={onCompositionEnd:function e(r){o.isComposition=false;delete o.compositionValue;V(r)},onCompositionStart:function e(){return o.isComposition=true}},a(u,j,function(e){if(o.isComposition){o.compositionValue=e.target[_];o.forceUpdate()}else{for(var r=arguments.length,a=new Array(r>1?r-1:0),t=1;t<r;t++){a[t-1]=arguments[t]}V.apply(void 0,[e].concat(a))}}),a(u,_,"compositionValue"in o?o.compositionValue:F),u);break}Object.assign(K,(f={},a(f,w,x),a(f,N,S),f));var D;switch(p){case 0:D=U&&R&&Y;break;case 1:D=U&&R;break;case 2:D=U;break;default:D=false;break}L.className=[L.className,D&&"has-error",U?"is-invalid":"is-valid",R?"is-dirty":"is-pristine",Y?"is-touched":"is-untouched",B?"is-focused":"is-unfocused"].filter(Boolean).join(" ");var G=D?{validateStatus:"error",help:I()}:{};return d.createElement(v.Form.Item,Object.assign({required:false},L,c,G),typeof h==="function"?h(K):l.cloneElement(h,K))}}))}}]);return p}(l.Component);Object.keys(r).forEach(function(e){if(e!=="default")Object.defineProperty(exports,e,{enumerable:true,get:function(){return r[e]}})});exports.FormItem=q;exports.setErrorLevel=m;
