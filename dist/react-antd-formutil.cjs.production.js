"use strict";Object.defineProperty(exports,"__esModule",{value:true});function e(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var r=require("react-formutil");var a=e(require("@babel/runtime/helpers/esm/defineProperty"));var t=e(require("@babel/runtime/helpers/esm/toPropertyKey"));var i=e(require("@babel/runtime/helpers/esm/objectWithoutProperties"));var n=e(require("@babel/runtime/helpers/esm/classCallCheck"));var o=e(require("@babel/runtime/helpers/esm/createClass"));var s=e(require("@babel/runtime/helpers/esm/possibleConstructorReturn"));var c=e(require("@babel/runtime/helpers/esm/getPrototypeOf"));var u=e(require("@babel/runtime/helpers/esm/inherits"));var l=require("react");var d=e(l);var p=require("react-is");var f=require("antd");var v=1;var m=function e(r){v=r};var h=f.Switch.name!=="Switch";var b=h?f.Switch:"Switch";var y=h?f.Checkbox:"Checkbox";var k=h?f.Radio:"Radio";var g=h?f.Mention:"Mention";var C=h?f.Transfer:"Transfer";var P=h?f.Pagination:"Pagination";var _=h?f.Upload:"Upload";function q(e){if(e){var r=e.type;if(typeof r!=="string"&&p.isValidElementType(r)){if(r.formutilType){return r.formutilType}if(h){return r}return r.displayName||r.name}return e.props.type||e.type}}var E=function(e){u(p,e);function p(){n(this,p);return s(this,c(p).apply(this,arguments))}o(p,[{key:"render",value:function e(){var n=this;var o=this.props;var s=o.children,c=o.itemProps,u=o.errorLevel,p=u===void 0?v:u,m=i(o,["children","itemProps","errorLevel"]);var h=l.Children.only(s);var E=q(h);switch(E){case b:case y:case k:m.__TYPE__="checked";break;case P:if(!("$defaultValue"in m)){m.$defaultValue=1}break;case"checked":case"array":case"object":case"number":case"empty":m.__TYPE__=E;break;default:m.__TYPE__="empty";break}return d.createElement(r.EasyField,Object.assign({},m,{passUtil:"$fieldutil",render:function e(r){var s,u;var v=o.valuePropName,m=v===void 0?"value":v,q=o.changePropName,j=q===void 0?"onChange":q,$=o.focusPropName,w=$===void 0?"onFocus":$,S=o.blurPropName,T=S===void 0?"onBlur":S;var V=r.$fieldutil,N=r[j],O=r[w],x=r[T],L=r[m],F=i(r,["$fieldutil",j,w,T,m].map(t));var M=V.$invalid,U=V.$dirty,R=V.$touched,Y=V.$focused,B=V.$getFirstError;var I;switch(E){case b:case y:case k:case"checked":var K=o.checked,A=K===void 0?true:K,W=o.unchecked,z=W===void 0?false:W;I={checked:L===A,onChange:function e(r){var a=r&&r.target?r.target.checked:r;N(a?A:z,r)}};break;case g:I={defaultValue:f.Mention.toContentState(L||""),onChange:function e(r){var a=f.Mention.toString(r);if(a!==L){N(a)}}};break;case C:I={targetKeys:L,onChange:N};break;case P:I={current:L,onChange:N};break;case _:I={fileList:L&&"fileList"in L?L.fileList:undefined,onChange:N};break;default:I=(s={onCompositionEnd:function e(r){n.isComposition=false;delete n.compositionValue;N(r)},onCompositionStart:function e(){return n.isComposition=true}},a(s,j,function(e){if(n.isComposition){n.compositionValue=e.target[m];n.forceUpdate()}else{for(var r=arguments.length,a=new Array(r>1?r-1:0),t=1;t<r;t++){a[t-1]=arguments[t]}N.apply(void 0,[e].concat(a))}}),a(s,m,"compositionValue"in n?n.compositionValue:L),s);break}Object.assign(I,(u={},a(u,w,O),a(u,T,x),u));var D;switch(p){case 0:D=M&&U&&R;break;case 1:D=M&&U;break;case 2:D=M;break;default:D=false;break}F.className=[F.className,D&&"has-error",M?"is-invalid":"is-valid",U?"is-dirty":"is-pristine",R?"is-touched":"is-untouched",Y?"is-focused":"is-unfocused"].filter(Boolean).join(" ");var G=D?{validateStatus:"error",help:B()}:{};return d.createElement(f.Form.Item,Object.assign({},F,c,G),l.cloneElement(h,I))}}))}}]);return p}(l.Component);Object.keys(r).forEach(function(e){if(e!=="default")Object.defineProperty(exports,e,{enumerable:true,get:function(){return r[e]}})});exports.FormItem=E;exports.setErrorLevel=m;
