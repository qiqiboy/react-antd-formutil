import{EasyField as e}from"react-formutil";export*from"react-formutil";import r from"@babel/runtime/helpers/esm/defineProperty";import t from"@babel/runtime/helpers/esm/toPropertyKey";import a from"@babel/runtime/helpers/esm/objectWithoutProperties";import i from"@babel/runtime/helpers/esm/classCallCheck";import o from"@babel/runtime/helpers/esm/createClass";import s from"@babel/runtime/helpers/esm/possibleConstructorReturn";import n from"@babel/runtime/helpers/esm/getPrototypeOf";import c from"@babel/runtime/helpers/esm/inherits";import l,{Children as m,cloneElement as u,Component as p}from"react";import{isValidElementType as f}from"react-is";import{Switch as d,Form as h,Checkbox as v,Radio as b,Transfer as k,Pagination as y,Upload as g}from"antd";var C=1;var P=function e(r){C=r};var _=d.name!=="Switch";var $=_?d:"Switch";var E=_?v:"Checkbox";var N=_?b:"Radio";var j=_?k:"Transfer";var w=_?y:"Pagination";var T=_?g:"Upload";function V(e){if(e){var r=e.type;if(typeof r!=="string"&&f(r)){if(r.formutilType){return r.formutilType}if(_){return r}return r.displayName||r.name}return e.props.type||e.type}}var L=function(p){c(f,p);function f(){i(this,f);return s(this,n(f).apply(this,arguments))}o(f,[{key:"render",value:function i(){var o=this;var s=this.props;var n=s.children,c=s.itemProps,p=s.errorLevel,f=p===void 0?C:p,d=a(s,["children","itemProps","errorLevel"]);var v=m.only(n);var b=V(v);switch(b){case $:case E:case N:d.__TYPE__="checked";break;case w:if(!("$defaultValue"in d)){d.$defaultValue=1}break;case"checked":case"array":case"object":case"number":case"empty":d.__TYPE__=b;break;default:d.__TYPE__="empty";break}return l.createElement(e,Object.assign({},d,{passUtil:"$fieldutil",render:function e(i){var n,m;var p=s.valuePropName,d=p===void 0?"value":p,k=s.changePropName,y=k===void 0?"onChange":k,g=s.focusPropName,C=g===void 0?"onFocus":g,P=s.blurPropName,_=P===void 0?"onBlur":P;var V=i.$fieldutil,L=i[y],O=i[C],S=i[_],x=i[d],U=a(i,["$fieldutil",y,C,_,d].map(t));var Y=V.$invalid,B=V.$dirty,F=V.$touched,K=V.$focused,R=V.$getFirstError;var q;switch(b){case $:case E:case N:case"checked":var A=s.checked,I=A===void 0?true:A,W=s.unchecked,z=W===void 0?false:W;q={checked:x===I,onChange:function e(r){var t=r&&r.target?r.target.checked:r;L(t?I:z,r)}};break;case j:q={targetKeys:x,onChange:L};break;case w:q={current:x,onChange:L};break;case T:q={fileList:x&&"fileList"in x?x.fileList:undefined,onChange:L};break;default:q=(n={onCompositionEnd:function e(r){o.isComposition=false;delete o.compositionValue;L(r)},onCompositionStart:function e(){return o.isComposition=true}},r(n,y,function(e){if(o.isComposition){o.compositionValue=e.target[d];o.forceUpdate()}else{for(var r=arguments.length,t=new Array(r>1?r-1:0),a=1;a<r;a++){t[a-1]=arguments[a]}L.apply(void 0,[e].concat(t))}}),r(n,d,"compositionValue"in o?o.compositionValue:x),n);break}Object.assign(q,(m={},r(m,C,O),r(m,_,S),m));var D;switch(f){case 0:D=Y&&B&&F;break;case 1:D=Y&&B;break;case 2:D=Y;break;default:D=false;break}U.className=[U.className,D&&"has-error",Y?"is-invalid":"is-valid",B?"is-dirty":"is-pristine",F?"is-touched":"is-untouched",K?"is-focused":"is-unfocused"].filter(Boolean).join(" ");var G=D?{validateStatus:"error",help:R()}:{};return l.createElement(h.Item,Object.assign({required:false},c,G),u(v,q))}}))}}]);return f}(p);export{L as FormItem,P as setErrorLevel};
