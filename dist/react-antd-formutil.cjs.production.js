"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopDefault(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var e=require("react-formutil");var t=require("react");var r=_interopDefault(t);var o=require("antd");function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||false;o.configurable=true;if("value"in o)o.writable=true;Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){if(t)_defineProperties(e.prototype,t);if(r)_defineProperties(e,r);return e}function _defineProperty(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function _inherits(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)_setPrototypeOf(e,t)}function _getPrototypeOf(e){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)};return _getPrototypeOf(e)}function _setPrototypeOf(e,t){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf(e,t)}function _objectWithoutPropertiesLoose(e,t){if(e==null)return{};var r={};var o=Object.keys(e);var n,i;for(i=0;i<o.length;i++){n=o[i];if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _objectWithoutProperties(e,t){if(e==null)return{};var r=_objectWithoutPropertiesLoose(e,t);var o,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++){o=i[n];if(t.indexOf(o)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,o))continue;r[o]=e[o]}}return r}function _assertThisInitialized(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _possibleConstructorReturn(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return _assertThisInitialized(e)}function _toPrimitive(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(typeof o!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return typeof t==="symbol"?t:String(t)}var n=1;var i=function setErrorLevel(e){n=e};var a=o.Switch.name!=="Switch";var u=a?o.Switch:"Switch";var c=a?o.Checkbox:"Checkbox";var f=a?o.Radio:"Radio";var s=a?o.Mention:"Mention";var l=a?o.Transfer:"Transfer";var p=a?o.Pagination:"Pagination";var y=function(i){_inherits(FormItem,i);function FormItem(){_classCallCheck(this,FormItem);return _possibleConstructorReturn(this,_getPrototypeOf(FormItem).apply(this,arguments))}_createClass(FormItem,[{key:"render",value:function render(){var i=this.props;var y=i.children,v=i.itemProps,b=i.errorLevel,d=b===void 0?n:b,_=_objectWithoutProperties(i,["children","itemProps","errorLevel"]);var h=t.Children.only(y);var m;if(h&&h.type&&typeof h.type==="function"){m="formutilType"in h.type?h.type.formutilType:a?h.type:h.type.name}switch(m){case u:case c:case f:_.__TYPE__="checked";break;case p:if(!("$defaultValue"in _)){_.$defaultValue=1}break;case"checked":case"array":case"object":case"number":case"empty":_.__TYPE__=m;break;default:_.__TYPE__="empty";break}return r.createElement(e.EasyField,Object.assign({},_,{passUtil:"$fieldutil",render:function render(e){var n,a;var y=i.valuePropName,b=y===void 0?"value":y,_=i.changePropName,P=_===void 0?"onChange":_,g=i.focusPropName,O=g===void 0?"onFocus":g,k=i.blurPropName,j=k===void 0?"onBlur":k;var C=e.$fieldutil,w=e[P],E=e[O],S=e[j],T=e[b],F=_objectWithoutProperties(e,["$fieldutil",P,O,j,b].map(_toPropertyKey));var I=C.$invalid,x=C.$dirty,$=C.$touched,L=C.$getFirstError;var M;switch(m){case u:case c:case f:case"checked":var N=i.checked,R=N===void 0?true:N,W=i.unchecked,q=W===void 0?false:W;M={checked:T===R,onChange:function onChange(e){var t=e&&e.target?e.target.checked:e;w(t?R:q,e)}};break;case s:M={defaultValue:o.Mention.toContentState(T||""),onChange:function onChange(e){var t=o.Mention.toString(e);if(t!==T){w(t)}}};break;case l:M={targetKeys:T,onChange:w};break;case p:M={current:T,onChange:w};break;default:M=(n={},_defineProperty(n,P,w),_defineProperty(n,b,T),n);break}Object.assign(M,(a={},_defineProperty(a,O,E),_defineProperty(a,j,S),a));var K;switch(d){case 0:K=I&&x&&$;break;case 1:K=I&&x;break;case 2:K=I;break;default:K=false;break}var V=K?{validateStatus:"error",help:L()}:{};return r.createElement(o.Form.Item,Object.assign({},F,v,V),t.cloneElement(h,M))}}))}}]);return FormItem}(t.Component);Object.keys(e).forEach(function(t){Object.defineProperty(exports,t,{enumerable:true,get:function(){return e[t]}})});exports.FormItem=y;exports.setErrorLevel=i;
