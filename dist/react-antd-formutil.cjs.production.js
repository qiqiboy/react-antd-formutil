"use strict";Object.defineProperty(exports,"__esModule",{value:true});function e(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var t=require("react-formutil");var r=require("react");var n=e(r);var o=require("antd");function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function u(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);return e}function c(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)s(e,t)}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return l(e)}function s(e,t){s=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return s(e,t)}function p(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,i;for(i=0;i<n.length;i++){o=n[i];if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function v(e,t){if(e==null)return{};var r=p(e,t);var n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++){n=i[o];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function d(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return b(e)}function y(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m(e){var t=y(e,"string");return typeof t==="symbol"?t:String(t)}var h=1;var g=function e(t){h=t};var k=o.Switch.name!=="Switch";var O=k?o.Switch:"Switch";var P=k?o.Checkbox:"Checkbox";var j=k?o.Radio:"Radio";var _=k?o.Mention:"Mention";var w=k?o.Transfer:"Transfer";var C=k?o.Pagination:"Pagination";var E=function(e){f(a,e);function a(){i(this,a);return d(this,l(a).apply(this,arguments))}u(a,[{key:"render",value:function e(){var i=this;var a=this.props;var u=a.children,f=a.itemProps,l=a.errorLevel,s=l===void 0?h:l,p=v(a,["children","itemProps","errorLevel"]);var b=r.Children.only(u);var d;if(b&&b.type&&typeof b.type==="function"){d="formutilType"in b.type?b.type.formutilType:k?b.type:b.type.name}switch(d){case O:case P:case j:p.__TYPE__="checked";break;case C:if(!("$defaultValue"in p)){p.$defaultValue=1}break;case"checked":case"array":case"object":case"number":case"empty":p.__TYPE__=d;break;default:p.__TYPE__="empty";break}return n.createElement(t.EasyField,Object.assign({},p,{passUtil:"$fieldutil",render:function e(t){var u,l;var p=a.valuePropName,y=p===void 0?"value":p,h=a.changePropName,g=h===void 0?"onChange":h,k=a.focusPropName,E=k===void 0?"onFocus":k,S=a.blurPropName,T=S===void 0?"onBlur":S;var x=t.$fieldutil,$=t[g],V=t[E],F=t[T],M=t[y],N=v(t,["$fieldutil",g,E,T,y].map(m));var q=x.$invalid,I=x.$dirty,L=x.$touched,R=x.$getFirstError;var Y;switch(d){case O:case P:case j:case"checked":var U=a.checked,A=U===void 0?true:U,B=a.unchecked,K=B===void 0?false:B;Y={checked:M===A,onChange:function e(t){var r=t&&t.target?t.target.checked:t;$(r?A:K,t)}};break;case _:Y={defaultValue:o.Mention.toContentState(M||""),onChange:function e(t){var r=o.Mention.toString(t);if(r!==M){$(r)}}};break;case w:Y={targetKeys:M,onChange:$};break;case C:Y={current:M,onChange:$};break;default:Y=(u={onCompositionEnd:function e(t){i.isComposition=false;delete i.compositionValue;$(t)},onCompositionStart:function e(){return i.isComposition=true}},c(u,g,function(e){if(i.isComposition){i.compositionValue=e.target[y];i.forceUpdate()}else{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}$.apply(void 0,[e].concat(r))}}),c(u,y,"compositionValue"in i?i.compositionValue:M),u);break}Object.assign(Y,(l={},c(l,E,V),c(l,T,F),l));var z;switch(s){case 0:z=q&&I&&L;break;case 1:z=q&&I;break;case 2:z=q;break;default:z=false;break}var D=z?{validateStatus:"error",help:R()}:{};return n.createElement(o.Form.Item,Object.assign({},N,f,D),r.cloneElement(b,Y))}}))}}]);return a}(r.Component);Object.keys(t).forEach(function(e){Object.defineProperty(exports,e,{enumerable:true,get:function(){return t[e]}})});exports.FormItem=E;exports.setErrorLevel=g;
