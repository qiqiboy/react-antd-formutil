"use strict";function _interopDefault(e){return e&&"object"===typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var reactFormutil=require("react-formutil"),React=require("react"),React__default=_interopDefault(React),antd=require("antd");function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}function _objectWithoutProperties(e,t){if(null==e)return{};var r,o,n=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _typeof2(e){return(_typeof2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"===typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!==typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}var errorLevelGlobal=1,setErrorLevel=function(e){errorLevelGlobal=e},isUglify="Switch"!==antd.Switch.name,_Switch=isUglify?antd.Switch:"Switch",_Checkbox=isUglify?antd.Checkbox:"Checkbox",_Radio=isUglify?antd.Radio:"Radio",_Mention=isUglify?antd.Mention:"Mention",_Transfer=isUglify?antd.Transfer:"Transfer",_Pagination=isUglify?antd.Pagination:"Pagination",FormItem=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,React.Component),_createClass(t,[{key:"render",value:function(){var e,t=this.props,r=t.children,o=t.itemProps,n=t.errorLevel,i=void 0===n?errorLevelGlobal:n,a=t.className,c=_objectWithoutProperties(t,["children","itemProps","errorLevel","className"]);switch(r&&r.type&&"function"===typeof r.type&&(e="formutilType"in r.type?r.type.formutilType:isUglify?r.type:r.type.name),e){case _Switch:case _Checkbox:case _Radio:c.__TYPE__="checked";break;case _Pagination:"$defaultValue"in c||(c.$defaultValue=1);break;case"checked":case"array":case"object":case"number":case"empty":c.__TYPE__=e;break;default:c.__TYPE__="empty"}return React__default.createElement(reactFormutil.EasyField,Object.assign({},c,{passUtil:"$fieldutil",render:function(n){var c,u,l,s,f=n.$fieldutil,p=_objectWithoutProperties(n,["$fieldutil"]),y=f.$invalid,_=f.$dirty,b=f.$touched,d=f.$getFirstError,h=t.valuePropName,m=void 0===h?"value":h,P=t.changePropName,g=void 0===P?"onChange":P,v=t.focusPropName,O=void 0===v?"onFocus":v,k=t.blurPropName,j=void 0===k?"onBlur":k,S=p[g],w=p[O],C=p[j],E=p[m];switch(e){case _Switch:case _Checkbox:case _Radio:case"checked":var R=t.checked,T=void 0===R||R,x=t.unchecked,F=void 0!==x&&x;l={checked:E===T,onChange:function(e){var t=e&&e.target?e.target.checked:e;S(t?T:F,e)}};break;case _Mention:l={defaultValue:antd.Mention.toContentState(E||""),onChange:function(e){var t=antd.Mention.toString(e);t!==E&&S(t)}};break;case _Transfer:l={targetKeys:E,onChange:S};break;case _Pagination:l={current:E,onChange:S};break;default:_defineProperty(c={},g,S),_defineProperty(c,m,E),l=c}switch(Object.assign(l,(_defineProperty(u={},O,w),_defineProperty(u,j,C),u)),i){case 0:s=y&&_&b;break;case 1:s=y&&_;break;case 2:s=y;break;default:s=!1}var L=s?{validateStatus:"error",help:d()}:{};return React__default.createElement(antd.Form.Item,Object.assign({className:a},o,L),React.cloneElement(r,l))}}))}}]),t}();Object.keys(reactFormutil).forEach(function(e){Object.defineProperty(exports,e,{enumerable:!0,get:function(){return reactFormutil[e]}})}),exports.FormItem=FormItem,exports.setErrorLevel=setErrorLevel;
