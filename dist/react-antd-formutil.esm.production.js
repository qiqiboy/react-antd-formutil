import{EasyField as e}from"react-formutil";export*from"react-formutil";import r from"@babel/runtime/helpers/esm/defineProperty";import t from"@babel/runtime/helpers/esm/toPropertyKey";import a from"@babel/runtime/helpers/esm/objectWithoutProperties";import i from"@babel/runtime/helpers/esm/classCallCheck";import o from"@babel/runtime/helpers/esm/createClass";import s from"@babel/runtime/helpers/esm/possibleConstructorReturn";import n from"@babel/runtime/helpers/esm/getPrototypeOf";import c from"@babel/runtime/helpers/esm/inherits";import l,{Children as u,cloneElement as m,Component as p}from"react";import{isValidElementType as f}from"react-is";import{Switch as d,Form as v,Checkbox as h,Radio as b,Transfer as k,Pagination as y,Upload as g}from"antd";var C=1;var P=function e(r){C=r};var _=d.name!=="Switch";var $=_?d:"Switch";var E=_?h:"Checkbox";var N=_?b:"Radio";var j=_?k:"Transfer";var w=_?y:"Pagination";var T=_?g:"Upload";function V(e){if(e){var r=e.type;if(typeof r!=="string"&&f(r)){if(r.formutilType){return r.formutilType}if(_){return r}return r.displayName||r.name}return e.props.type||r}}var L=function(p){c(f,p);function f(){i(this,f);return s(this,n(f).apply(this,arguments))}o(f,[{key:"render",value:function i(){var o=this;var s=this.props;var n=s.children,c=s.itemProps,p=s.errorLevel,f=p===void 0?C:p,d=a(s,["children","itemProps","errorLevel"]);var h=typeof n==="function"?n:u.only(n);var b=V(h);switch(b){case $:case E:case N:d.__TYPE__="checked";break;case w:if(!("$defaultValue"in d)){d.$defaultValue=1}break;case"checked":case"array":case"object":case"number":case"empty":d.__TYPE__=b;break;default:d.__TYPE__="empty";break}return l.createElement(e,Object.assign({},d,{passUtil:"$fieldutil",render:function e(i){var n,u,p;var d=s.valuePropName,k=d===void 0?"value":d,y=s.changePropName,g=y===void 0?"onChange":y,C=s.focusPropName,P=C===void 0?"onFocus":C,_=s.blurPropName,V=_===void 0?"onBlur":_;var L=i.$fieldutil,O=i[g],S=i[P],x=i[V],U=i[k],Y=a(i,["$fieldutil",g,P,V,k].map(t));var B=L.$invalid,F=L.$dirty,K=L.$touched,R=L.$focused,q=L.$getFirstError;var A;switch(b){case $:case E:case N:case"checked":var I=s.checked,W=I===void 0?true:I,z=s.unchecked,D=z===void 0?false:z;A={checked:U===W,onChange:function e(r){var t=r&&r.target?r.target.checked:r;O(t?W:D,r)}};break;case j:A={targetKeys:U,onChange:O};break;case w:A={current:U,onChange:O};break;case T:A={fileList:(n=U===null||U===void 0?void 0:U.fileList)!==null&&n!==void 0?n:U,onChange:O};break;default:A=(u={onCompositionEnd:function e(r){o.isComposition=false;delete o.compositionValue;O(r)},onCompositionStart:function e(){return o.isComposition=true}},r(u,g,function(e){if(o.isComposition){o.compositionValue=e.target[k];o.forceUpdate()}else{for(var r=arguments.length,t=new Array(r>1?r-1:0),a=1;a<r;a++){t[a-1]=arguments[a]}O.apply(void 0,[e].concat(t))}}),r(u,k,"compositionValue"in o?o.compositionValue:U),u);break}Object.assign(A,(p={},r(p,P,S),r(p,V,x),p));var G;switch(f){case 0:G=B&&F&&K;break;case 1:G=B&&F;break;case 2:G=B;break;default:G=false;break}Y.className=[Y.className,G&&"has-error",B?"is-invalid":"is-valid",F?"is-dirty":"is-pristine",K?"is-touched":"is-untouched",R?"is-focused":"is-unfocused"].filter(Boolean).join(" ");var H=G?{validateStatus:"error",help:q()}:{};return l.createElement(v.Item,Object.assign({required:false},Y,c,H),typeof h==="function"?h(A):m(h,A))}}))}}]);return f}(p);export{L as FormItem,P as setErrorLevel};
