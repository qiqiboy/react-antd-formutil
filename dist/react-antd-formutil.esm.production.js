import{EasyField as e}from"react-formutil";export*from"react-formutil";import r from"@babel/runtime/helpers/esm/defineProperty";import t from"@babel/runtime/helpers/esm/toPropertyKey";import a from"@babel/runtime/helpers/esm/objectWithoutProperties";import i from"@babel/runtime/helpers/esm/classCallCheck";import o from"@babel/runtime/helpers/esm/createClass";import n from"@babel/runtime/helpers/esm/possibleConstructorReturn";import s from"@babel/runtime/helpers/esm/getPrototypeOf";import c from"@babel/runtime/helpers/esm/inherits";import l,{Children as u,cloneElement as m,Component as p}from"react";import{isValidElementType as f}from"react-is";import{Switch as d,Mention as v,Form as h,Checkbox as b,Radio as k,Transfer as y,Pagination as g,Upload as C}from"antd";var P=1;var _=function e(r){P=r};var $=d.name!=="Switch";var E=$?d:"Switch";var N=$?b:"Checkbox";var V=$?k:"Radio";var j=$?v:"Mention";var w=$?y:"Transfer";var S=$?g:"Pagination";var T=$?C:"Upload";function L(e){if(e){var r=e.type;if(typeof r!=="string"&&f(r)){if(r.formutilType){return r.formutilType}if($){return r}return r.displayName||r.name}return e.props.type||e.type}}var O=function(p){c(f,p);function f(){i(this,f);return n(this,s(f).apply(this,arguments))}o(f,[{key:"render",value:function i(){var o=this;var n=this.props;var s=n.children,c=n.itemProps,p=n.errorLevel,f=p===void 0?P:p,d=a(n,["children","itemProps","errorLevel"]);var b=u.only(s);var k=L(b);switch(k){case E:case N:case V:d.__TYPE__="checked";break;case S:if(!("$defaultValue"in d)){d.$defaultValue=1}break;case"checked":case"array":case"object":case"number":case"empty":d.__TYPE__=k;break;default:d.__TYPE__="empty";break}return l.createElement(e,Object.assign({},d,{passUtil:"$fieldutil",render:function e(i){var s,u;var p=n.valuePropName,d=p===void 0?"value":p,y=n.changePropName,g=y===void 0?"onChange":y,C=n.focusPropName,P=C===void 0?"onFocus":C,_=n.blurPropName,$=_===void 0?"onBlur":_;var L=i.$fieldutil,O=i[g],x=i[P],U=i[$],Y=i[d],B=a(i,["$fieldutil",g,P,$,d].map(t));var F=L.$invalid,K=L.$dirty,R=L.$touched,A=L.$focused,I=L.$getFirstError;var M;switch(k){case E:case N:case V:case"checked":var W=n.checked,q=W===void 0?true:W,z=n.unchecked,D=z===void 0?false:z;M={checked:Y===q,onChange:function e(r){var t=r&&r.target?r.target.checked:r;O(t?q:D,r)}};break;case j:M={defaultValue:v.toContentState(Y||""),onChange:function e(r){var t=v.toString(r);if(t!==Y){O(t)}}};break;case w:M={targetKeys:Y,onChange:O};break;case S:M={current:Y,onChange:O};break;case T:M={fileList:Y&&"fileList"in Y?Y.fileList:undefined,onChange:O};break;default:M=(s={onCompositionEnd:function e(r){o.isComposition=false;delete o.compositionValue;O(r)},onCompositionStart:function e(){return o.isComposition=true}},r(s,g,function(e){if(o.isComposition){o.compositionValue=e.target[d];o.forceUpdate()}else{for(var r=arguments.length,t=new Array(r>1?r-1:0),a=1;a<r;a++){t[a-1]=arguments[a]}O.apply(void 0,[e].concat(t))}}),r(s,d,"compositionValue"in o?o.compositionValue:Y),s);break}Object.assign(M,(u={},r(u,P,x),r(u,$,U),u));var G;switch(f){case 0:G=F&&K&&R;break;case 1:G=F&&K;break;case 2:G=F;break;default:G=false;break}B.className=[B.className,G&&"has-error",F?"is-invalid":"is-valid",K?"is-dirty":"is-pristine",R?"is-touched":"is-untouched",A?"is-focused":"is-unfocused"].filter(Boolean).join(" ");var H=G?{validateStatus:"error",help:I()}:{};return l.createElement(h.Item,Object.assign({},B,c,H),m(b,M))}}))}}]);return f}(p);export{O as FormItem,_ as setErrorLevel};
