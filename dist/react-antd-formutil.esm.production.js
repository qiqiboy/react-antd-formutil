import{EasyField as e}from"react-formutil";export*from"react-formutil";import r from"@babel/runtime/helpers/esm/defineProperty";import t from"@babel/runtime/helpers/esm/toPropertyKey";import a from"@babel/runtime/helpers/esm/objectWithoutProperties";import o from"@babel/runtime/helpers/esm/classCallCheck";import i from"@babel/runtime/helpers/esm/createClass";import s from"@babel/runtime/helpers/esm/possibleConstructorReturn";import n from"@babel/runtime/helpers/esm/getPrototypeOf";import c from"@babel/runtime/helpers/esm/inherits";import l,{Children as m,cloneElement as u,Component as p}from"react";import{isValidElementType as f}from"react-is";import{Switch as d,Mention as v,Form as h,Checkbox as b,Radio as k,Transfer as y,Pagination as g}from"antd";var C=1;var P=function e(r){C=r};var _=d.name!=="Switch";var $=_?d:"Switch";var E=_?b:"Checkbox";var N=_?k:"Radio";var V=_?v:"Mention";var j=_?y:"Transfer";var w=_?g:"Pagination";function S(e){if(e){var r=e.type;if(typeof r!=="string"&&f(r)){if(r.formutilType){return r.formutilType}if(_){return r}return r.displayName||r.name}return e.props.type||e.type}}var T=function(p){c(f,p);function f(){o(this,f);return s(this,n(f).apply(this,arguments))}i(f,[{key:"render",value:function o(){var i=this;var s=this.props;var n=s.children,c=s.itemProps,p=s.errorLevel,f=p===void 0?C:p,d=a(s,["children","itemProps","errorLevel"]);var b=m.only(n);var k=S(b);switch(k){case $:case E:case N:d.__TYPE__="checked";break;case w:if(!("$defaultValue"in d)){d.$defaultValue=1}break;case"checked":case"array":case"object":case"number":case"empty":d.__TYPE__=k;break;default:d.__TYPE__="empty";break}return l.createElement(e,Object.assign({},d,{passUtil:"$fieldutil",render:function e(o){var n,m;var p=s.valuePropName,d=p===void 0?"value":p,y=s.changePropName,g=y===void 0?"onChange":y,C=s.focusPropName,P=C===void 0?"onFocus":C,_=s.blurPropName,S=_===void 0?"onBlur":_;var T=o.$fieldutil,O=o[g],x=o[P],Y=o[S],B=o[d],F=a(o,["$fieldutil",g,P,S,d].map(t));var K=T.$invalid,L=T.$dirty,R=T.$touched,U=T.$focused,A=T.$getFirstError;var I;switch(k){case $:case E:case N:case"checked":var M=s.checked,W=M===void 0?true:M,q=s.unchecked,z=q===void 0?false:q;I={checked:B===W,onChange:function e(r){var t=r&&r.target?r.target.checked:r;O(t?W:z,r)}};break;case V:I={defaultValue:v.toContentState(B||""),onChange:function e(r){var t=v.toString(r);if(t!==B){O(t)}}};break;case j:I={targetKeys:B,onChange:O};break;case w:I={current:B,onChange:O};break;default:I=(n={onCompositionEnd:function e(r){i.isComposition=false;delete i.compositionValue;O(r)},onCompositionStart:function e(){return i.isComposition=true}},r(n,g,function(e){if(i.isComposition){i.compositionValue=e.target[d];i.forceUpdate()}else{for(var r=arguments.length,t=new Array(r>1?r-1:0),a=1;a<r;a++){t[a-1]=arguments[a]}O.apply(void 0,[e].concat(t))}}),r(n,d,"compositionValue"in i?i.compositionValue:B),n);break}Object.assign(I,(m={},r(m,P,x),r(m,S,Y),m));var D;switch(f){case 0:D=K&&L&&R;break;case 1:D=K&&L;break;case 2:D=K;break;default:D=false;break}F.className=[F.className,D&&"has-error",K?"is-invalid":"is-valid",L?"is-dirty":"is-pristine",R?"is-touched":"is-untouched",U?"is-focused":"is-unfocused"].filter(Boolean).join(" ");var G=D?{validateStatus:"error",help:A()}:{};return l.createElement(h.Item,Object.assign({},F,c,G),u(b,I))}}))}}]);return f}(p);export{T as FormItem,P as setErrorLevel};
