import{EasyField as e}from"react-formutil";export*from"react-formutil";import t,{cloneElement as r,Children as n,Component as o}from"react";import{Switch,Mention,Form,Checkbox,Radio,Transfer,Pagination}from"antd";function a(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function i(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,a;for(a=0;a<n.length;a++){o=n[a];if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function u(e,t){if(e==null)return{};var r=i(e,t);var n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++){n=a[o];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function l(e,t,r){if(t)f(e.prototype,t);if(r)f(e,r);return e}function s(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){s=function e(t){return typeof t}}else{s=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return s(e)}function p(e){if(typeof Symbol==="function"&&s(Symbol.iterator)==="symbol"){p=function e(t){return s(t)}}else{p=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)}}return p(e)}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function y(e,t){if(t&&(p(t)==="object"||typeof t==="function")){return t}return b(e)}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}function v(e,t){v=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return v(e,t)}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)v(e,t)}function h(e){var t=g(e,"string");return typeof t==="symbol"?t:String(t)}function g(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k=1;var P=function e(t){k=t};var O=Switch.name!=="Switch";var S=O?Switch:"Switch";var _=O?Checkbox:"Checkbox";var j=O?Radio:"Radio";var w=O?Mention:"Mention";var E=O?Transfer:"Transfer";var N=O?Pagination:"Pagination";var T=function(o){d(i,o);function i(){c(this,i);return y(this,m(i).apply(this,arguments))}l(i,[{key:"render",value:function o(){var i=this.props;var c=i.children,f=i.itemProps,l=i.errorLevel,s=l===void 0?k:l,p=u(i,["children","itemProps","errorLevel"]);var b;if(c&&c.type&&typeof c.type==="function"){b="formutilType"in c.type?c.type.formutilType:O?c.type:c.type.name}switch(b){case S:case _:case j:p.__TYPE__="checked";break;case N:if(!("$defaultValue"in p)){p.$defaultValue=1}break;case"checked":case"array":case"object":case"number":case"empty":p.__TYPE__=b;break;default:p.__TYPE__="empty";break}return t.createElement(e,Object.assign({},p,{passUtil:"$fieldutil",render:function e(o){var l,p;var y=o.$fieldutil,m=o.valuePropName,v=m===void 0?"value":m,d=o.changePropName,g=d===void 0?"onChange":d,k=o.focusPropName,P=k===void 0?"onFocus":k,O=o.blurPropName,T=O===void 0?"onBlur":O,$=o[v],C=o[P],x=o[T],V=o[v],Y=u(o,["$fieldutil","valuePropName","changePropName","focusPropName","blurPropName",v,P,T,v].map(h));var F=y.$invalid,I=y.$dirty,L=y.$touched,R=y.$getFirstError;var B;switch(b){case S:case _:case j:case"checked":var K=i.checked,M=K===void 0?true:K,U=i.unchecked,q=U===void 0?false:U;B={checked:V===M,onChange:function e(t){var r=t&&t.target?t.target.checked:t;$(r?M:q,t)}};break;case w:B={defaultValue:Mention.toContentState(V||""),onChange:function e(t){var r=Mention.toString(t);if(r!==V){$(r)}}};break;case E:B={targetKeys:V,onChange:$};break;case N:B={current:V,onChange:$};break;default:B=(l={},a(l,g,$),a(l,v,V),l);break}Object.assign(B,(p={},a(p,P,C),a(p,T,x),p));var z;switch(s){case 0:z=F&&I&L;break;case 1:z=F&&I;break;case 2:z=F;break;default:z=false;break}var A=z?{validateStatus:"error",help:R()}:{};return t.createElement(Form.Item,Object.assign({},Y,f,A),r(n.only(c),B))}}))}}]);return i}(o);export{T as FormItem,P as setErrorLevel};
